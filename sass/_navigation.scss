// Top Level Vertical Navigation

nav.v {
	display: none;
  // To-do Mobile Navigation Handling
  @include media($tablet) {
    display:block;
    @include flex(0 0 270px);
  	background-color: #202123;
  	min-height: 100%;
  	border-right: 1px solid #191919;
  }
  > ul {
    position:fixed;
    padding-top:63px;
    margin:0 20px;
    > li {
      font-size:12.5px;
      letter-spacing:3px;
      text-transform:uppercase;
      padding:20px 30px;
      border-bottom:1px solid $greymid;
      position: relative;
      &.has-children{
        &:before {
          border-radius:0;
          background:transparent;
          border-bottom: 6px solid transparent;
          border-left: 8px solid #707377;
          border-top: 6px solid transparent;
          content: "";
          display: block;
//          height: 0;
          left: 3px;
          position: absolute;
          top: 21px;
          transition: all 300ms cubic-bezier(0.86, 0, 0.07, 1) 50ms;
          width: 0;
        }
        &.expand {
          &:before {
            @include transform(rotate(90deg));
          }
          ul {
            @include animation(slide-down .2s linear forwards);
          }
        }
        &.contract {
          ul {
            @include animation(slide-up .2s linear forwards);
          }
        }
        
      }
      a{
        color: #90949a;
        @include transition(all 100ms ease-in 50ms);    
        &:hover{
          color: #ffffff;
        }
      }
			.icon {
				left: -2.4em;
				right: auto;
				top: 1.3em;
				-webkit-transition: all 200ms cubic-bezier(0.86, 0, 0.07, 1) 50ms;
	      transition:         all 200ms cubic-bezier(0.86, 0, 0.07, 1) 50ms;
				@include media($tablet) {
					//width: 1.6em;
					//height: 1.6em;
					//left:  0.2em;
					//right: auto;
				}
				@include media($notebook) {
					width: 1.2em;
					height: 1.2em;
					left: -2.4em;
					right: auto;
					top: 0.9em;
				}
			}
      svg {
        float:right;
      }
      &:before {
        display: block;
        content: "";
        position: absolute;
        left: 2px;
        border-radius: 50%;
        top: 1.6em;
        width: .8em;
        height: .8em;
        background-color: #3a3b3e;
      }
      &.active{
        a{
          color: #FFFFFF;
        }
        &:before {
          background-color: #61e699;
        }
      }
      &:first-child{
        border-top: 1px solid $greymid;
      }
      ul {
        max-height:0;
        overflow:hidden;
        margin:0;
        padding:0;
        li {
          color: #90949a;
          letter-spacing: 1px;
          list-style-type: none;
          margin: 1em 0 0;
          position: relative;
          &:before {
            background-color: #3a3b3e;
            border-radius: 50%;
            content: "";
            display: block;
            height: 0.7em;
            left: -28px;
            position: absolute;
            top: 0.3em;
            width: 0.7em;
          }
          a {
            span {
              letter-spacing:0;
              line-height:1em;
              text-transform:none;
              display:block;
            }
          }
        }
      }
    }
  }
  a {
    display:block;
    color:$greylt;
    text-decoration: none;
    font-weight: 300;
    font-size: 0.9em;
  }
}
